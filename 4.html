<!DOCTYPE html>
<html lang="en">
<title>Гуценков Никита</title>
<Style>
    main {
        margin: 50px;
        background: #fff;
        padding-left: 15px
    }

    h1 {
        text-align: center;
    }

    form {
        display: table;
    }

    .p1 {
        display: table-row;
    }

    .label1 {
        display: table-cell;
    }

    input {
        display: table-cell;
    }

    table, th, td {
        border: 1px solid black;
        margin-left: auto;
        margin-right: auto;
    }

    .c1 {
        display: inline-block;
        text-align: center;
    }
</Style>
<main>
    <body style="background-color:#d3d3d3;">
    <h1>Лабораторная работа №4</h1>
    <h2>Гуценков Никита. Вариант 7</h2>

    <h2>Задание 1</h2>

    <p>В соответствии со своим вариантом написать Java-скрипт, выполняющий следующие действи</p>
    <img src="./img/6.png"><br>

    <button onclick="myFunction1()">Выполнить</button>
    <script>
        function myFunction1() {
            let text = prompt("Введите текст");
            let count = (text.match(/\+-/g)).length;
            let result = text.replace(/\*/g, "\\-");

            alert("Символов +-: \n" + count + "\nТекст с замененными * на \\-: \n" + result);
        }
    </script>

    <h2>Задание 2</h2>

    <p>В соответствии со своим вариантом написать Java-скрипт, выполняющий следующие действи</p>
    <img src="./img/7.png"><br>

    <button onclick="myFunction2()">Выполнить</button>
    <script>
        function myFunction2() {
            let text = prompt("Введите текст");
            // длина второго слова
            let count = text.split(' ').slice(1, 2).join('');
            // все слова в кавычки
            let result = text.replace(/([A-Za-zа-яА-Я0-9]+)/g, '"$1"');

            alert("Букв во втором слове: \n" + count.length + "\nТекст с каждым словом в кавычках: \n" + result);
        }
    </script>

    <h2>Задание 3</h2>

    <p>Написать простейшую программу шифрования. Программа каждую букву заменяет на следующую за ней в алфавите («я»
        переходит в «а»)</p>

    <button onclick="myFunction3()">Выполнить</button>
    <script>
        function myFunction3() {
            let text = prompt("Введите текст");
            var result = '';
            var charcode = 0;
            // перебираем каждую букву
            for (var i = 0; i < text.length; i++) {
                // пробел оставить пробелом
                if (text[i] !== " ") {
                    // "я" сменить на "а"
                    if (text[i] !== "я") {
                        // в остальных случаях поднять на 1 позицию в юникоде
                        charcode = (text[i].charCodeAt()) + 1;
                        // из юникода в букву и добавить в строку результата
                        result += String.fromCharCode(charcode);
                    } else result += "а";
                } else result += " ";
            }
            alert(result);
        }
    </script>

    <h2>Задание 4</h2>

    <p>Написать программу, которая в каждом слове перемешивает буквы местами за исключением первой и последней буквы
        слова</p>

    <button onclick="myFunction4()">Выполнить</button>
    <script>
        function myFunction4() {
            let word = prompt("Введите текст");
            let shuffledWord = '';
            let vd = word, result;
            word = word.split('');
            while (word.length > 0) {
                shuffledWord += word.splice(word.length * Math.random() << 0, 1);
            }
            result = vd[0] + shuffledWord.substr(1, shuffledWord.length - 2) + vd[vd.length - 1];

            alert(result);
        }
    </script>

    <h2>Задание 5</h2>

    <p>1. В заголовке окна браузера должны быть ваши фамилия и имя.
        <br>
        2. Необходимо создать html-форму с текстовыми полями для ввода начисленной зарплаты за первые 6 месяцев года.
        <br>
        3. Ниже разместить текстовое поле для вывода вычисленной средней зарплаты за эти месяцы.
        <br>
        4. Вычисление средней зарплаты выполняется после нажатия кнопки «Вычислить».
        <br>
        5. В функции обработки формы в качестве параметра использовать имя формы.
        <br>
        При создании формы установите значения по умолчанию как в образце:</p>
    <img src="./img/8.png"><br>

    <script>
        function myFunction5(form) {
            var total = 0;
            var count = 0;
            var values = form.getElementsByClassName("value");
            // записываем значения в массив
            for (var i = 0; i < values.length; i++) {
                var num = parseFloat(values[i].value);
                // проверка введенного значения
                if (!isNaN(num)) {
                    // подсчет
                    total += num;
                    count++;
                }
            }
            var totaltb = document.getElementById("total");
            totaltb.value = count ? total / count : "NaN";
        }
    </script>

    <h4>Введите начисленную зарплату за следующие месяцы</h4>
    <form name="form1">
        <p class="p1">
            <label class="label1">Январь: </label>
            <input class="value" value="300" maxlength=8 size="6" style="font-weight: bold;" type="text">
        </p>
        <br>
        <p class="p1">
            <label class="label1">Февраль: </label>
            <input class="value" value="200" maxlength=8 size="6" style="font-weight: bold;" type="text">
        </p>
        <br>
        <p class="p1">
            <label class="label1">Март: </label>
            <input class="value" value="500" maxlength=8 size="6" style="font-weight: bold;" type="text">
        </p>
        <br>
        <p class="p1">
            <label class="label1">Апрель: </label>
            <input class="value" value="250" maxlength=8 size="6" style="font-weight: bold;" type="text">
        </p>
        <br>
        <p class="p1">
            <label class="label1">Май: </label>
            <input class="value" value="350" maxlength=8 size="6" style="font-weight: bold;" type="text">
        </p>
        <br>
        <p class="p1">
            <label class="label1">Июнь: </label>
            <input class="value" value="500" maxlength=8 size="6" style="font-weight: bold;" type="text">
        </p>
        <br></form>
    <p>
        <label><b>Средняя зарплата:</b></label>
        <input id="total" size="16" style="font-weight: bold;" type="text" readonly>
    </p>
    <br>
    <input type=button value="Вычислить" onclick="myFunction5(form1)">&nbsp;<input type=reset value="Обновить">


    <h2>Задание 6</h2>

    <p>Создайте файл lab4-6.html с HTML-формой. В форме можно выбрать:
        <br>
        а) горизонтальное (align, варианты значений: left, center, right);
        <br>
        б) вертикальное (valign, варианты значений: top, middle, bottom) расположение текста в таблице.
        <br>
        Для (а) необходимо использовать переключатели, для (б) - флажки. По умолчанию необходимо установить следующие
        значения: для align - «left», для valign - «top».
        <br>
        Обработка формы выполняется при нажатии на кнопку «Выполнить». Над формой должна быть таблица, состоящая из
        одной ячейки шириной и высотой 100 пикселов. В ячейку таблицы следует поместить слово «Текст» </p>
    <img src="./img/9.png"><br>

    <script>
        function myFunction6() {

            // получаем значения вертикальной и горизонтальной позиции
            var hor = document.getElementsByName('hor');
            var ver = document.getElementsByName('ver'), i;

            for (i = 0; i < hor.length; i++) {
                if (hor[i].checked)
                    // установка горизонтальной позиции
                    document.getElementById("text").style.textAlign = hor[i].value;
            }
            for (i = 0; i < ver.length; i++) {
                if (ver[i].checked)
                    // установка вертикальной позиции
                    document.getElementById("text").style.verticalAlign = ver[i].value;
            }
        }

        /* В задании почему-то требуется использовать checkbox вместо radio в вертикальном расположении.
           Это как если бы стояла задача выпить чай вилкой, так как checkbox не позволяет выбрать
           только 1 вариант. Поэтому нужен скрипт, который исправляет "вилку" для того, чтобы
           ей можно было "выпить чай" */
        function selectOnlyThis(id) {
            var ver = document.getElementsByName("ver");
            Array.prototype.forEach.call(ver, function (el) {
                el.checked = false;
            });
            id.checked = true;
        }
    </script>
    <div class="c1">
        <table style="width:200px; height:200px">
            <tr>
                <th id="text">Текст</th>
            </tr>
        </table>
        <form action="/action_page.php">
            <h4>Выбирите горизональное расположение</h4>
            <p>
                <input type="radio" id="left" name="hor" value="left" checked>
                <label for="left"> Слева</label><br>
            </p>
            <p>
                <input type="radio" id="center" name="hor" value="center">
                <label for="center"> По центру</label><br>
            </p>
            <p>
                <input type="radio" id="right" name="hor" value="right">
                <label for="right"> Справа</label><br><br>
            </p>
            <h4>Выбирите вертикальное расположение</h4>
            <p>
                <input type="checkbox" id="top" name="ver" value="top" onclick="selectOnlyThis(this)" checked>
                <label for="top"> Сверху</label><br>
            </p>
            <p>
                <input type="checkbox" id="middle" name="ver" value="middle" onclick="selectOnlyThis(this)">
                <label for="middle"> Посередине</label><br>
            </p>
            <p>
                <input type="checkbox" id="bottom" name="ver" value="bottom" onclick="selectOnlyThis(this)">
                <label for="bottom"> Внизу</label><br><br>
            </p>
            <input type="button" value="Выполнить" onclick="myFunction6()">
        </form>
    </div>

    </body>
</main>
</html>